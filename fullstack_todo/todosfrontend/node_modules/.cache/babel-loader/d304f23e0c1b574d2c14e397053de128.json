{"ast":null,"code":"const APIURL = '/api/todos/';\nexport async function getTodos() {\n  fetch(APIURL).then(res => {\n    if (!res.ok) {\n      if (res.status >= 400 && res.status < 500) {\n        return res.json().then(d => {\n          let err = {\n            errorMessage: d.message\n          };\n          throw err;\n        });\n      } else {\n        let err = {\n          errorMessage: 'Please try again later, server not responding'\n        };\n        throw err;\n      }\n    }\n\n    return res.json();\n  }).then(todos => this.setState({\n    todos\n  }));\n}","map":{"version":3,"sources":["D:/latihan/course2/react/fullstack_todo/todosfrontend/src/api.js"],"names":["APIURL","getTodos","fetch","then","res","ok","status","json","d","err","errorMessage","message","todos","setState"],"mappings":"AAAA,MAAMA,MAAM,GAAG,aAAf;AAEA,OAAO,eAAeC,QAAf,GAA0B;AAC7BC,EAAAA,KAAK,CAACF,MAAD,CAAL,CACSG,IADT,CACcC,GAAG,IAAI;AACT,QAAI,CAACA,GAAG,CAACC,EAAT,EAAa;AACT,UAAID,GAAG,CAACE,MAAJ,IAAc,GAAd,IAAqBF,GAAG,CAACE,MAAJ,GAAa,GAAtC,EAA2C;AACvC,eAAOF,GAAG,CAACG,IAAJ,GAAWJ,IAAX,CAAgBK,CAAC,IAAI;AACxB,cAAIC,GAAG,GAAG;AAAEC,YAAAA,YAAY,EAAEF,CAAC,CAACG;AAAlB,WAAV;AACA,gBAAMF,GAAN;AACH,SAHM,CAAP;AAIH,OALD,MAKO;AACH,YAAIA,GAAG,GAAG;AAAEC,UAAAA,YAAY,EAAE;AAAhB,SAAV;AACA,cAAMD,GAAN;AACH;AACJ;;AACD,WAAOL,GAAG,CAACG,IAAJ,EAAP;AACH,GAdT,EAeSJ,IAfT,CAecS,KAAK,IAAI,KAAKC,QAAL,CAAc;AAAED,IAAAA;AAAF,GAAd,CAfvB;AAiBH","sourcesContent":["const APIURL = '/api/todos/';\r\n\r\nexport async function getTodos() {\r\n    fetch(APIURL)\r\n            .then(res => {\r\n                if (!res.ok) {\r\n                    if (res.status >= 400 && res.status < 500) {\r\n                        return res.json().then(d => {\r\n                            let err = { errorMessage: d.message }\r\n                            throw err;\r\n                        })\r\n                    } else {\r\n                        let err = { errorMessage: 'Please try again later, server not responding' }\r\n                        throw err;\r\n                    }\r\n                }\r\n                return res.json()\r\n            })\r\n            .then(todos => this.setState({ todos }))\r\n\r\n}"]},"metadata":{},"sourceType":"module"}